(this["webpackJsonpnomuda-shopping-list"]=this["webpackJsonpnomuda-shopping-list"]||[]).push([[0],{42:function(e){e.exports=JSON.parse('{"items":[{"ItemID":1,"ItemName":"Bananas","ListID":2,"HighPriority":false,"Index":6},{"ItemID":2,"ItemName":"Biscuits","ListID":2,"HighPriority":false,"Index":5},{"ItemID":3,"ItemName":"Bread","ListID":2,"HighPriority":false,"Index":0},{"ItemID":4,"ItemName":"Cereal","ListID":2,"HighPriority":false,"Index":4},{"ItemID":5,"ItemName":"Milk","ListID":2,"HighPriority":false,"Index":2},{"ItemID":6,"ItemName":"Sugar","ListID":2,"HighPriority":false,"Index":1},{"ItemID":7,"ItemName":"Tea Bags","ListID":2,"HighPriority":false,"Index":3}]}')},49:function(e,t,i){},50:function(e,t,i){},55:function(e,t,i){"use strict";i.r(t);var n=i(2),s=i(0),a=i.n(s),r=i(20),c=i.n(r),l=(i(49),i(11)),d=i(12),m=i(14),o=i(13),I=(i(50),i(51),i(58)),h=i(40),u=i(59),j=i(60),x=i(41),f=1,O=2,g=i(61),b=function(e){Object(m.a)(i,e);var t=Object(o.a)(i);function i(){return Object(l.a)(this,i),t.apply(this,arguments)}return Object(d.a)(i,[{key:"render",value:function(){var e=this.props,t=e.items,i=e.selectedItems,s=e.listItemClick,a=e.tglHighPriorityClick,r=e.newItemClick;return(t=t.filter((function(e){return e.ListID===f}))).sort((function(e,t){return e.Index>t.Index?1:-1})),Object(n.jsxs)("div",{children:[Object(n.jsx)(I.a,{children:Object(n.jsxs)(h.a,{style:{display:"flex",flexDirection:"row"},children:[Object(n.jsx)("h2",{children:"Current"}),Object(n.jsx)(u.a,{className:"ml-3 my-auto",onClick:r,children:"+"})]})}),Object(n.jsx)("div",{className:"border",children:Object(n.jsx)(j.a,{className:"listGroupFixedHeight",children:t.map((function(e,t){return Object(n.jsxs)(x.a,{action:!0,id:e.ItemID,className:"py-1 px-2 border-0 "+(i.includes(e.ItemID)&&"active"),onClick:s,children:[Object(n.jsx)("span",{id:e.ItemID,className:e.HighPriority?"highPriority":"stdPriority",onClick:function(t){return a(t,e.ItemID)},children:Object(n.jsx)(g.a,{size:20})}),e.ItemName]},t)}))})})]})}}]),i}(s.Component),S=function(e){Object(m.a)(i,e);var t=Object(o.a)(i);function i(){return Object(l.a)(this,i),t.apply(this,arguments)}return Object(d.a)(i,[{key:"render",value:function(){var e=this.props,t=e.items,i=e.selectedItems,s=e.listItemClick;return(t=t.filter((function(e){return e.ListID===O}))).sort((function(e,t){return e.Index>t.Index?1:-1})),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Previous"}),Object(n.jsx)("div",{className:"border",children:Object(n.jsx)(j.a,{className:"listGroupFixedHeight",children:t.map((function(e,t){return Object(n.jsx)(x.a,{action:!0,id:e.ItemID,className:"py-1 px-2 border-0 "+(i.includes(e.ItemID)?"active":""),onClick:s,children:e.ItemName},t)}))})})]})}}]),i}(s.Component),p=i(66),C=i(65),L=i(62),N=i(42),v=i(63),k=i(64),y=function(e){Object(m.a)(i,e);var t=Object(o.a)(i);function i(e,n){var s;return Object(l.a)(this,i),(s=t.call(this,e,n)).txtItmName=a.a.createRef(),s}return Object(d.a)(i,[{key:"render",value:function(){var e=this,t=this.props,i=t.modalShow,s=t.modalClose,a=t.newItemName,r=t.handleNameChange,c=t.newItemHighPriority,l=t.handlePriorityChange,d=t.addItemClick,m=t.errors;return Object(n.jsxs)(v.a,{show:i,onHide:s,animation:!1,onShow:function(){return e.txtItmName.current.focus()},children:[Object(n.jsx)(v.a.Header,{closeButton:!0,children:Object(n.jsx)(v.a.Title,{children:"New Item"})}),Object(n.jsx)(v.a.Body,{children:Object(n.jsxs)(k.a,{children:[Object(n.jsxs)(k.a.Group,{children:[Object(n.jsx)(k.a.Control,{type:"text",ref:this.txtItmName,placeholder:"Item Name",value:a,onChange:r,isInvalid:!!m.itemName}),Object(n.jsx)(k.a.Control.Feedback,{type:"invalid",children:m.itemName})]}),Object(n.jsx)(k.a.Group,{children:Object(n.jsx)(k.a.Check,{label:"High Priority",checked:c,onChange:l})}),Object(n.jsx)(u.a,{type:"submit",onClick:d,children:"Add"})]})})]})}}]),i}(s.Component),w=function(e){Object(m.a)(i,e);var t=Object(o.a)(i);function i(e,n){var s;return Object(l.a)(this,i),(s=t.call(this,e,n)).txtItmName=a.a.createRef(),s}return Object(d.a)(i,[{key:"render",value:function(){var e=this,t=this.props,i=t.modalShow,s=t.modalClose,a=t.editItemName,r=t.handleNameChange,c=t.editItemClick,l=t.errors;return Object(n.jsxs)(v.a,{show:i,onHide:s,animation:!1,onShow:function(){return e.txtItmName.current.focus()},children:[Object(n.jsx)(v.a.Header,{closeButton:!0,children:Object(n.jsx)(v.a.Title,{children:"Edit Item"})}),Object(n.jsx)(v.a.Body,{children:Object(n.jsxs)(k.a,{children:[Object(n.jsxs)(k.a.Group,{children:[Object(n.jsx)(k.a.Control,{type:"text",ref:this.txtItmName,placeholder:"Item Name",value:a,onChange:r,isInvalid:!!l.itemName}),Object(n.jsx)(k.a.Control.Feedback,{type:"invalid",children:l.itemName})]}),Object(n.jsx)(u.a,{type:"submit",onClick:c,children:"Edit"})]})})]})}}]),i}(s.Component),D=i(36),P=function(e){Object(m.a)(i,e);var t=Object(o.a)(i);function i(){var e;Object(l.a)(this,i);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={items:N.items,prevLstSelectedItems:[],currLstSelectedItems:[],showNewItemModal:!1,newItemName:"",newItemHighPriority:!1,newItemFormErrors:{itemName:""},singleItemSelected:!1,selectedItemId:-1,showEditItemModal:!1,editItemName:"",editItemFormErrors:{itemName:""},singleItemSelectedPrevList:!1,singleItemSelectedCurrList:!1,exportBtnTxt:"Export List"},e.checkSingleItemSelected=function(){var t=e.state.prevLstSelectedItems.length+e.state.currLstSelectedItems.length===1;e.setState({singleItemSelected:t}),t?1===e.state.prevLstSelectedItems.length?(e.setState({selectedItemId:e.state.prevLstSelectedItems[0]}),e.setState({singleItemSelectedPrevList:!0}),e.setState({singleItemSelectedCurrList:!1})):(e.setState({selectedItemId:e.state.currLstSelectedItems[0]}),e.setState({singleItemSelectedPrevList:!1}),e.setState({singleItemSelectedCurrList:!0})):(e.setState({selectedItemId:-1}),e.setState({singleItemSelectedPrevList:!1}),e.setState({singleItemSelectedCurrList:!1}))},e.handlePreviousLstItemClick=function(t){var i=parseInt(t.target.id);e.state.prevLstSelectedItems.includes(i)?e.setState({prevLstSelectedItems:e.state.prevLstSelectedItems.filter((function(e){return e!==i}))},e.checkSingleItemSelected):e.setState({prevLstSelectedItems:e.state.prevLstSelectedItems.concat(i)},e.checkSingleItemSelected)},e.handleCurrentLstItemClick=function(t){var i=parseInt(t.target.id);e.state.currLstSelectedItems.includes(i)?e.setState({currLstSelectedItems:e.state.currLstSelectedItems.filter((function(e){return e!==i}))},e.checkSingleItemSelected):e.setState({currLstSelectedItems:e.state.currLstSelectedItems.concat(i)},e.checkSingleItemSelected)},e.handleLeftArrowOnClick=function(){var t=JSON.parse(JSON.stringify(e.state.items)),i=t.filter((function(e){return e.ListID===f})).length;t.forEach((function(t){e.state.prevLstSelectedItems.includes(t.ItemID)&&(t.ListID=f,t.Index=i,i+=1)})),e.setState({items:e.reAssignIndexes(O,t)}),e.setState({prevLstSelectedItems:[]},e.checkSingleItemSelected)},e.handleRightArrowOnClick=function(){var t=JSON.parse(JSON.stringify(e.state.items)),i=t.filter((function(e){return e.ListID===O})).length;t.forEach((function(t){e.state.currLstSelectedItems.includes(t.ItemID)&&(t.ListID=O,t.Index=i,i+=1,t.HighPriority=!1)})),e.setState({items:e.reAssignIndexes(f,t)},e.checkSingleItemSelected),e.setState({currLstSelectedItems:[]})},e.showNewItemModal=function(){return e.setState({showNewItemModal:!0})},e.hideNewItemModal=function(){e.setState({newItemName:""}),e.setState({newItemFormErrors:{}}),e.setState({newItemHighPriority:!1}),e.setState({showNewItemModal:!1})},e.handleNewItemNameOnChange=function(t){return e.setState({newItemName:t.target.value})},e.handleNewItemPriorityOnChange=function(t){return e.setState({newItemHighPriority:t.target.checked})},e.handleAddItemOnClick=function(t){t.preventDefault();var i=e.state.items,n=i.filter((function(e){return e.ListID===f})).length,s={ItemID:Math.max.apply(Math,i.map((function(e){return e.ItemID})))+1,ItemName:e.state.newItemName,ListID:f,HighPriority:e.state.newItemHighPriority,Index:e.state.newItemHighPriority?-1:n},a=e.validateItem(s);a.isValid?(e.setState({items:e.state.items.concat(s)}),e.hideNewItemModal()):e.setState({newItemFormErrors:a})},e.showEditItemModal=function(){e.setState({showEditItemModal:!0});var t=e.state.items.find((function(t){return t.ItemID===e.state.selectedItemId}));e.setState({editItemName:t.ItemName})},e.hideEditItemModal=function(){e.setState({editItemFormErrors:{}}),e.setState({showEditItemModal:!1})},e.handleEditItemNameOnChange=function(t){return e.setState({editItemName:t.target.value})},e.handleEditItemOnClick=function(t){t.preventDefault();var i={ItemName:e.state.editItemName},n=e.validateItem(i);if(n.isValid){var s=e.state.items.map((function(t){return t.ItemID===e.state.selectedItemId&&(t.ItemName=e.state.editItemName),t}));e.setState({items:s}),e.hideEditItemModal()}else e.setState({editItemFormErrors:n})},e.handleDeleteItemOnClick=function(){if(window.confirm("Are you sure you want to delete this item? This action is permanent.")){var t=e.state.items.filter((function(t){return t.ItemID!==e.state.selectedItemId}));e.setState({items:t})}},e.handleUpArrowOnClick=function(){var t=e.state.items.find((function(t){return t.ItemID===e.state.selectedItemId})),i=t.Index-1,n=e.state.items.find((function(e){return e.Index===i&&e.ListID===t.ListID}));if(n&&(t.HighPriority||!n.HighPriority)){var s=e.state.items.map((function(n){return n.Index===i&&n.ListID===t.ListID&&(n.Index=n.Index+1),n.ItemID===e.state.selectedItemId&&(n.Index=i),n}));e.setState({items:e.reAssignIndexes(t.ListID,s)})}},e.handleDownArrowOnClick=function(){var t=e.state.items.find((function(t){return t.ItemID===e.state.selectedItemId})),i=t.Index+1,n=e.state.items.find((function(e){return e.Index===i&&e.ListID===t.ListID}));if(t.HighPriority&&n.HighPriority||!t.HighPriority){var s=e.state.items.map((function(n){return n.Index===i&&n.ListID===t.ListID&&(n.Index=n.Index-1),n.ItemID===e.state.selectedItemId&&(n.Index=i),n}));e.setState({items:e.reAssignIndexes(t.ListID,s)})}},e.handleSaveListOnClick=function(){"undefined"!==typeof Storage&&localStorage.setItem("items",JSON.stringify(e.state.items))},e.handleLoadListOnClick=function(){if("undefined"!==typeof Storage){var t=localStorage.items;t&&e.setState({items:JSON.parse(t)})}},e.handleClearListOnClick=function(){"undefined"!==typeof Storage&&localStorage.removeItem("items")},e.handleExportListOnClick=function(){var t=Object.keys(e.state.items[0]).map((function(e){return e})).join(",")+"\n";t=e.state.items.reduce((function(e,t){return e+=Object.values(t).map((function(e){return e})).join(",")+"\n"}),t),console.log(t),navigator.clipboard&&navigator.clipboard.writeText(t).then((function(){return e.setState({exportBtnTxt:"Copied to CLP"})}),(function(){return e.setState({exportBtnTxt:"Failed to copy."})}))},e.toggleItemHighPriorityOnClick=function(t,i){t.stopPropagation();var n=e.state.items.map((function(t){return t.ItemID===i&&(t.HighPriority=!t.HighPriority,t.Index=t.HighPriority?-1:e.state.items.filter((function(e){return e.ListID===f})).length),t}));e.setState({items:e.reAssignIndexes(f,n)})},e}return Object(d.a)(i,[{key:"reAssignIndexes",value:function(e,t){var i=JSON.parse(JSON.stringify(t)),n=i.filter((function(t){return t.ListID===e}));return n.sort((function(e,t){return e.Index>t.Index?1:-1})),n=n.map((function(e,t){return e.Index=t,e})),i=i.map((function(t){if(t.ListID===e){var i=n.find((function(e){return e.ItemID===t.ItemID}));t.Index=i.Index}return t}))}},{key:"validateItem",value:function(e){var t={itemName:"",isValid:!0};return this.state.items.find((function(t){return t.ItemName===e.ItemName}))&&(t.itemName="Can't be duplicate of existing item.",t.isValid=!1),t}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(p.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(n.jsx)(p.a.Brand,{children:"Shopping List"}),Object(n.jsx)(p.a.Toggle,{}),Object(n.jsx)(D.a,{children:Object(n.jsxs)(C.a,{children:[Object(n.jsx)(C.a.Link,{children:"Create New"}),Object(n.jsx)(C.a.Link,{children:"Load Saved"}),Object(n.jsx)(C.a.Link,{children:"Your account"}),Object(n.jsx)(C.a.Link,{children:"About us"}),Object(n.jsx)(C.a.Link,{children:"Contact"})]})})]}),Object(n.jsxs)(L.a,{children:[Object(n.jsxs)(I.a,{children:[Object(n.jsx)(h.a,{xs:5,children:Object(n.jsx)(b,{items:this.state.items,selectedItems:this.state.currLstSelectedItems,listItemClick:this.handleCurrentLstItemClick,tglHighPriorityClick:this.toggleItemHighPriorityOnClick,newItemClick:this.showNewItemModal})}),Object(n.jsxs)(h.a,{xs:2,style:{display:"flex",width:"100%",flexDirection:"column",alignItems:"center"},children:[Object(n.jsx)(I.a,{children:Object(n.jsx)("h2",{style:{visibility:"hidden"},children:"1"})}),Object(n.jsxs)(I.a,{className:"itemsListBtnRow",children:[Object(n.jsx)(u.a,{className:"itemsListBtn",onClick:this.handleLeftArrowOnClick,children:"\u02c2"}),Object(n.jsx)(u.a,{className:"itemsListBtn",onClick:this.handleRightArrowOnClick,children:"\u02c3"})]}),Object(n.jsxs)(I.a,{className:"itemsListBtnRow",style:{marginTop:"auto"},children:[Object(n.jsx)(u.a,{className:"itemsListBtn",onClick:this.handleUpArrowOnClick,disabled:!this.state.singleItemSelectedCurrList,children:"\u02c4"}),Object(n.jsx)(u.a,{className:"itemsListBtn",onClick:this.handleDownArrowOnClick,disabled:!this.state.singleItemSelectedCurrList,children:"\u02c5"})]})]}),Object(n.jsx)(h.a,{xs:5,children:Object(n.jsx)(S,{items:this.state.items,selectedItems:this.state.prevLstSelectedItems,listItemClick:this.handlePreviousLstItemClick})})]}),Object(n.jsxs)(I.a,{style:{paddingTop:"15px"},children:[Object(n.jsxs)(h.a,{xs:5,children:[Object(n.jsx)(u.a,{className:"mr-2 mb-2",onClick:this.handleSaveListOnClick,children:"Save List"}),Object(n.jsx)(u.a,{className:"mr-2 mb-2",onClick:this.handleClearListOnClick,children:"Clear List"}),Object(n.jsx)(u.a,{className:"mr-2 mb-2",onClick:this.handleLoadListOnClick,children:"Load List"}),Object(n.jsx)(u.a,{className:"mb-2",onClick:this.handleExportListOnClick,children:this.state.exportBtnTxt})]}),Object(n.jsx)(h.a,{xs:2,style:{display:"flex",justifyContent:"center"},children:Object(n.jsx)(u.a,{onClick:this.showEditItemModal,style:{alignSelf:"start"},disabled:!this.state.singleItemSelected,children:"Edit"})}),Object(n.jsx)(h.a,{children:Object(n.jsx)(u.a,{onClick:this.handleDeleteItemOnClick,disabled:!this.state.singleItemSelectedPrevList,children:"Delete"})})]})]}),Object(n.jsx)(y,{modalShow:this.state.showNewItemModal,modalClose:this.hideNewItemModal,newItemName:this.state.newItemName,handleNameChange:this.handleNewItemNameOnChange,newItemHighPriority:this.state.newItemHighPriority,handlePriorityChange:this.handleNewItemPriorityOnChange,addItemClick:this.handleAddItemOnClick,errors:this.state.newItemFormErrors}),Object(n.jsx)(w,{modalShow:this.state.showEditItemModal,modalClose:this.hideEditItemModal,editItemName:this.state.editItemName,handleNameChange:this.handleEditItemNameOnChange,editItemClick:this.handleEditItemOnClick,errors:this.state.editItemFormErrors})]})}}]),i}(s.Component),H=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,67)).then((function(t){var i=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;i(e),n(e),s(e),a(e),r(e)}))};c.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(P,{})}),document.getElementById("root")),H()}},[[55,1,2]]]);
//# sourceMappingURL=main.52a0e166.chunk.js.map