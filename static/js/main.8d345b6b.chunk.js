(this["webpackJsonpnomuda-shopping-list"]=this["webpackJsonpnomuda-shopping-list"]||[]).push([[0],{42:function(e){e.exports=JSON.parse('{"items":[{"ItemID":1,"ItemName":"Bananas","ListID":2,"HighPriority":false,"Index":6},{"ItemID":2,"ItemName":"Biscuits","ListID":2,"HighPriority":false,"Index":5},{"ItemID":3,"ItemName":"Bread","ListID":2,"HighPriority":false,"Index":0},{"ItemID":4,"ItemName":"Cereal","ListID":2,"HighPriority":false,"Index":4},{"ItemID":5,"ItemName":"Milk","ListID":2,"HighPriority":false,"Index":2},{"ItemID":6,"ItemName":"Sugar","ListID":2,"HighPriority":false,"Index":1},{"ItemID":7,"ItemName":"Tea Bags","ListID":2,"HighPriority":false,"Index":3}]}')},49:function(e,t,i){},50:function(e,t,i){},55:function(e,t,i){"use strict";i.r(t);var s=i(2),n=i(0),a=i.n(n),r=i(16),c=i.n(r),l=(i(49),i(18)),d=i(19),m=i(24),o=i(22),I=(i(50),i(51),i(58)),h=i(40),u=i(59),j=i(60),x=i(41),f=1,g=2,O=i(61),S=function(e){Object(m.a)(i,e);var t=Object(o.a)(i);function i(){return Object(l.a)(this,i),t.apply(this,arguments)}return Object(d.a)(i,[{key:"render",value:function(){var e=this.props,t=e.items,i=e.selectedItems,n=e.listItemClick,a=e.tglHighPriorityClick,r=e.newItemClick;return(t=t.filter((function(e){return e.ListID===f}))).sort((function(e,t){return e.Index>t.Index?1:-1})),Object(s.jsxs)("div",{children:[Object(s.jsx)(I.a,{children:Object(s.jsxs)(h.a,{style:{display:"flex",flexDirection:"row"},children:[Object(s.jsx)("h2",{children:"Current"}),Object(s.jsx)(u.a,{className:"ml-3 my-auto",onClick:r,children:"+"})]})}),Object(s.jsx)("div",{className:"border",children:Object(s.jsx)(j.a,{className:"listGroupFixedHeight",children:t.map((function(e,t){return Object(s.jsxs)(x.a,{action:!0,id:e.ItemID,className:"py-1 px-2 border-0 "+(i.includes(e.ItemID)&&"active"),onClick:n,children:[Object(s.jsx)("span",{id:e.ItemID,className:e.HighPriority?"highPriority":"stdPriority",onClick:function(t){return a(t,e.ItemID)},children:Object(s.jsx)(O.a,{size:20})}),e.ItemName]},t)}))})})]})}}]),i}(n.Component),b=function(e){Object(m.a)(i,e);var t=Object(o.a)(i);function i(){return Object(l.a)(this,i),t.apply(this,arguments)}return Object(d.a)(i,[{key:"render",value:function(){var e=this.props,t=e.items,i=e.selectedItems,n=e.listItemClick;return(t=t.filter((function(e){return e.ListID===g}))).sort((function(e,t){return e.Index>t.Index?1:-1})),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Previous"}),Object(s.jsx)("div",{className:"border",children:Object(s.jsx)(j.a,{className:"listGroupFixedHeight",children:t.map((function(e,t){return Object(s.jsx)(x.a,{action:!0,id:e.ItemID,className:"py-1 px-2 border-0 "+(i.includes(e.ItemID)?"active":""),onClick:n,children:e.ItemName},t)}))})})]})}}]),i}(n.Component),p=i(66),C=i(65),L=i(62),N=i(42),v=i(63),k=i(64);var y=function(e){var t=e.modalShow,i=e.modalClose,n=e.newItemName,a=e.handleNameChange,r=e.newItemHighPriority,c=e.handlePriorityChange,l=e.addItemClick,d=e.errors;return Object(s.jsxs)(v.a,{show:t,onHide:i,animation:!1,children:[Object(s.jsx)(v.a.Header,{closeButton:!0,children:Object(s.jsx)(v.a.Title,{children:"New Item"})}),Object(s.jsx)(v.a.Body,{children:Object(s.jsxs)(k.a,{children:[Object(s.jsxs)(k.a.Group,{children:[Object(s.jsx)(k.a.Control,{type:"text",placeholder:"Item Name",value:n,onChange:a,isInvalid:!!d.itemName}),Object(s.jsx)(k.a.Control.Feedback,{type:"invalid",children:d.itemName})]}),Object(s.jsx)(k.a.Group,{children:Object(s.jsx)(k.a.Check,{label:"High Priority",checked:r,onChange:c})}),Object(s.jsx)(u.a,{type:"submit",onClick:l,children:"Add"})]})})]})};var w=function(e){var t=e.modalShow,i=e.modalClose,n=e.editItemName,a=e.handleNameChange,r=e.editItemClick,c=e.errors;return Object(s.jsxs)(v.a,{show:t,onHide:i,animation:!1,children:[Object(s.jsx)(v.a.Header,{closeButton:!0,children:Object(s.jsx)(v.a.Title,{children:"Edit Item"})}),Object(s.jsx)(v.a.Body,{children:Object(s.jsxs)(k.a,{children:[Object(s.jsxs)(k.a.Group,{children:[Object(s.jsx)(k.a.Control,{type:"text",placeholder:"Item Name",value:n,onChange:a,isInvalid:!!c.itemName}),Object(s.jsx)(k.a.Control.Feedback,{type:"invalid",children:c.itemName})]}),Object(s.jsx)(u.a,{type:"submit",onClick:r,children:"Edit"})]})})]})},D=i(36),P=function(e){Object(m.a)(i,e);var t=Object(o.a)(i);function i(){var e;Object(l.a)(this,i);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={items:N.items,prevLstSelectedItems:[],currLstSelectedItems:[],showNewItemModal:!1,newItemName:"",newItemHighPriority:!1,newItemFormErrors:{itemName:""},singleItemSelected:!1,selectedItemId:-1,showEditItemModal:!1,editItemName:"",editItemFormErrors:{itemName:""},singleItemSelectedPrevList:!1,singleItemSelectedCurrList:!1,exportBtnTxt:"Export List"},e.checkSingleItemSelected=function(){var t=e.state.prevLstSelectedItems.length+e.state.currLstSelectedItems.length===1;e.setState({singleItemSelected:t}),t?1===e.state.prevLstSelectedItems.length?(e.setState({selectedItemId:e.state.prevLstSelectedItems[0]}),e.setState({singleItemSelectedPrevList:!0}),e.setState({singleItemSelectedCurrList:!1})):(e.setState({selectedItemId:e.state.currLstSelectedItems[0]}),e.setState({singleItemSelectedPrevList:!1}),e.setState({singleItemSelectedCurrList:!0})):(e.setState({selectedItemId:-1}),e.setState({singleItemSelectedPrevList:!1}),e.setState({singleItemSelectedCurrList:!1}))},e.handlePreviousLstItemClick=function(t){var i=parseInt(t.target.id);e.state.prevLstSelectedItems.includes(i)?e.setState({prevLstSelectedItems:e.state.prevLstSelectedItems.filter((function(e){return e!==i}))},e.checkSingleItemSelected):e.setState({prevLstSelectedItems:e.state.prevLstSelectedItems.concat(i)},e.checkSingleItemSelected)},e.handleCurrentLstItemClick=function(t){var i=parseInt(t.target.id);e.state.currLstSelectedItems.includes(i)?e.setState({currLstSelectedItems:e.state.currLstSelectedItems.filter((function(e){return e!==i}))},e.checkSingleItemSelected):e.setState({currLstSelectedItems:e.state.currLstSelectedItems.concat(i)},e.checkSingleItemSelected)},e.handleLeftArrowOnClick=function(){var t=JSON.parse(JSON.stringify(e.state.items)),i=t.filter((function(e){return e.ListID===f})).length;t.forEach((function(t){e.state.prevLstSelectedItems.includes(t.ItemID)&&(t.ListID=f,t.Index=i,i+=1)})),e.setState({items:e.reAssignIndexes(g,t)}),e.setState({prevLstSelectedItems:[]},e.checkSingleItemSelected)},e.handleRightArrowOnClick=function(){var t=JSON.parse(JSON.stringify(e.state.items)),i=t.filter((function(e){return e.ListID===g})).length;t.forEach((function(t){e.state.currLstSelectedItems.includes(t.ItemID)&&(t.ListID=g,t.Index=i,i+=1,t.HighPriority=!1)})),e.setState({items:e.reAssignIndexes(f,t)},e.checkSingleItemSelected),e.setState({currLstSelectedItems:[]})},e.showNewItemModal=function(){return e.setState({showNewItemModal:!0})},e.hideNewItemModal=function(){e.setState({newItemName:""}),e.setState({newItemFormErrors:{}}),e.setState({newItemHighPriority:!1}),e.setState({showNewItemModal:!1})},e.handleNewItemNameOnChange=function(t){return e.setState({newItemName:t.target.value})},e.handleNewItemPriorityOnChange=function(t){return e.setState({newItemHighPriority:t.target.checked})},e.handleAddItemOnClick=function(t){t.preventDefault();var i=e.state.items,s=i.filter((function(e){return e.ListID===f})).length,n={ItemID:Math.max.apply(Math,i.map((function(e){return e.ItemID})))+1,ItemName:e.state.newItemName,ListID:f,HighPriority:e.state.newItemHighPriority,Index:e.state.newItemHighPriority?-1:s},a=e.validateItem(n);a.isValid?(e.setState({items:e.state.items.concat(n)}),e.hideNewItemModal()):e.setState({newItemFormErrors:a})},e.showEditItemModal=function(){e.setState({showEditItemModal:!0});var t=e.state.items.find((function(t){return t.ItemID===e.state.selectedItemId}));e.setState({editItemName:t.ItemName})},e.hideEditItemModal=function(){e.setState({editItemFormErrors:{}}),e.setState({showEditItemModal:!1})},e.handleEditItemNameOnChange=function(t){return e.setState({editItemName:t.target.value})},e.handleEditItemOnClick=function(t){t.preventDefault();var i={ItemName:e.state.editItemName},s=e.validateItem(i);if(s.isValid){var n=e.state.items.map((function(t){return t.ItemID===e.state.selectedItemId&&(t.ItemName=e.state.editItemName),t}));e.setState({items:n}),e.hideEditItemModal()}else e.setState({editItemFormErrors:s})},e.handleDeleteItemOnClick=function(){if(window.confirm("Are you sure you want to delete this item? This action is permanent.")){var t=e.state.items.filter((function(t){return t.ItemID!==e.state.selectedItemId}));e.setState({items:t})}},e.handleUpArrowOnClick=function(){var t=e.state.items.find((function(t){return t.ItemID===e.state.selectedItemId})),i=t.Index-1,s=e.state.items.find((function(e){return e.Index===i&&e.ListID===t.ListID}));if(t.HighPriority||!s.HighPriority){var n=e.state.items.map((function(s){return s.Index===i&&s.ListID===t.ListID&&(s.Index=s.Index+1),s.ItemID===e.state.selectedItemId&&(s.Index=i),s}));e.setState({items:e.reAssignIndexes(t.ListID,n)})}},e.handleDownArrowOnClick=function(){var t=e.state.items.find((function(t){return t.ItemID===e.state.selectedItemId})),i=t.Index+1,s=e.state.items.find((function(e){return e.Index===i&&e.ListID===t.ListID}));if(t.HighPriority&&s.HighPriority||!t.HighPriority){var n=e.state.items.map((function(s){return s.Index===i&&s.ListID===t.ListID&&(s.Index=s.Index-1),s.ItemID===e.state.selectedItemId&&(s.Index=i),s}));e.setState({items:e.reAssignIndexes(t.ListID,n)})}},e.handleSaveListOnClick=function(){"undefined"!==typeof Storage&&localStorage.setItem("items",JSON.stringify(e.state.items))},e.handleLoadListOnClick=function(){if("undefined"!==typeof Storage){var t=localStorage.items;t&&e.setState({items:JSON.parse(t)})}},e.handleClearListOnClick=function(){"undefined"!==typeof Storage&&localStorage.removeItem("items")},e.handleExportListOnClick=function(){var t=Object.keys(e.state.items[0]).map((function(e){return e})).join(",")+"\n";t=e.state.items.reduce((function(e,t){return e+=Object.values(t).map((function(e){return e})).join(",")+"\n"}),t),console.log(t),navigator.clipboard&&navigator.clipboard.writeText(t).then((function(){return e.setState({exportBtnTxt:"Copied to CLP"})}),(function(){return e.setState({exportBtnTxt:"Failed to copy."})}))},e.toggleItemHighPriorityOnClick=function(t,i){t.stopPropagation();var s=e.state.items.map((function(t){return t.ItemID===i&&(t.HighPriority=!t.HighPriority,t.Index=t.HighPriority?-1:e.state.items.filter((function(e){return e.ListID===f})).length),t}));e.setState({items:e.reAssignIndexes(f,s)})},e}return Object(d.a)(i,[{key:"reAssignIndexes",value:function(e,t){var i=JSON.parse(JSON.stringify(t)),s=i.filter((function(t){return t.ListID===e}));return s.sort((function(e,t){return e.Index>t.Index?1:-1})),s=s.map((function(e,t){return e.Index=t,e})),i=i.map((function(t){if(t.ListID===e){var i=s.find((function(e){return e.ItemID===t.ItemID}));t.Index=i.Index}return t}))}},{key:"validateItem",value:function(e){var t={itemName:"",isValid:!0};return this.state.items.find((function(t){return t.ItemName===e.ItemName}))&&(t.itemName="Can't be duplicate of existing item.",t.isValid=!1),t}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsxs)(p.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(s.jsx)(p.a.Brand,{children:"Shopping List"}),Object(s.jsx)(p.a.Toggle,{}),Object(s.jsx)(D.a,{children:Object(s.jsxs)(C.a,{children:[Object(s.jsx)(C.a.Link,{children:"Create New"}),Object(s.jsx)(C.a.Link,{children:"Load Saved"}),Object(s.jsx)(C.a.Link,{children:"Your account"}),Object(s.jsx)(C.a.Link,{children:"About us"}),Object(s.jsx)(C.a.Link,{children:"Contact"})]})})]}),Object(s.jsxs)(L.a,{children:[Object(s.jsxs)(I.a,{children:[Object(s.jsx)(h.a,{xs:5,children:Object(s.jsx)(S,{items:this.state.items,selectedItems:this.state.currLstSelectedItems,listItemClick:this.handleCurrentLstItemClick,tglHighPriorityClick:this.toggleItemHighPriorityOnClick,newItemClick:this.showNewItemModal})}),Object(s.jsxs)(h.a,{xs:2,style:{display:"flex",width:"100%",flexDirection:"column",alignItems:"center"},children:[Object(s.jsx)(I.a,{children:Object(s.jsx)("h2",{style:{visibility:"hidden"},children:"1"})}),Object(s.jsxs)(I.a,{className:"itemsListBtnRow",children:[Object(s.jsx)(u.a,{className:"itemsListBtn",onClick:this.handleLeftArrowOnClick,children:"\u02c2"}),Object(s.jsx)(u.a,{className:"itemsListBtn",onClick:this.handleRightArrowOnClick,children:"\u02c3"})]}),Object(s.jsxs)(I.a,{className:"itemsListBtnRow",style:{marginTop:"auto"},children:[Object(s.jsx)(u.a,{className:"itemsListBtn",onClick:this.handleUpArrowOnClick,disabled:!this.state.singleItemSelectedCurrList,children:"\u02c4"}),Object(s.jsx)(u.a,{className:"itemsListBtn",onClick:this.handleDownArrowOnClick,disabled:!this.state.singleItemSelectedCurrList,children:"\u02c5"})]})]}),Object(s.jsx)(h.a,{xs:5,children:Object(s.jsx)(b,{items:this.state.items,selectedItems:this.state.prevLstSelectedItems,listItemClick:this.handlePreviousLstItemClick})})]}),Object(s.jsxs)(I.a,{style:{paddingTop:"15px"},children:[Object(s.jsxs)(h.a,{xs:5,children:[Object(s.jsx)(u.a,{className:"mr-2 mb-2",onClick:this.handleSaveListOnClick,children:"Save List"}),Object(s.jsx)(u.a,{className:"mr-2 mb-2",onClick:this.handleClearListOnClick,children:"Clear List"}),Object(s.jsx)(u.a,{className:"mr-2 mb-2",onClick:this.handleLoadListOnClick,children:"Load List"}),Object(s.jsx)(u.a,{className:"mb-2",onClick:this.handleExportListOnClick,children:this.state.exportBtnTxt})]}),Object(s.jsx)(h.a,{xs:2,style:{display:"flex",justifyContent:"center"},children:Object(s.jsx)(u.a,{onClick:this.showEditItemModal,style:{alignSelf:"start"},disabled:!this.state.singleItemSelected,children:"Edit"})}),Object(s.jsx)(h.a,{children:Object(s.jsx)(u.a,{onClick:this.handleDeleteItemOnClick,disabled:!this.state.singleItemSelectedPrevList,children:"Delete"})})]})]}),Object(s.jsx)(y,{modalShow:this.state.showNewItemModal,modalClose:this.hideNewItemModal,newItemName:this.state.newItemName,handleNameChange:this.handleNewItemNameOnChange,newItemHighPriority:this.state.newItemHighPriority,handlePriorityChange:this.handleNewItemPriorityOnChange,addItemClick:this.handleAddItemOnClick,errors:this.state.newItemFormErrors}),Object(s.jsx)(w,{modalShow:this.state.showEditItemModal,modalClose:this.hideEditItemModal,editItemName:this.state.editItemName,handleNameChange:this.handleEditItemNameOnChange,editItemClick:this.handleEditItemOnClick,errors:this.state.editItemFormErrors})]})}}]),i}(n.Component),H=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,67)).then((function(t){var i=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;i(e),s(e),n(e),a(e),r(e)}))};c.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(P,{})}),document.getElementById("root")),H()}},[[55,1,2]]]);
//# sourceMappingURL=main.8d345b6b.chunk.js.map